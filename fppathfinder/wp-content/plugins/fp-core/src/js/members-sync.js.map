{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/member-sync/index.js","webpack:///./js/member-sync/modules/groupSync.js","webpack:///./js/member-sync/modules/groupSyncAjaxHandler.js","webpack:///./js/member-sync/modules/memberSync.js","webpack:///./js/member-sync/modules/toolsSync.js","webpack:///./js/member-sync/modules/toolsSyncAjaxHandler.js"],"names":["memberSync","groupSync","toolsSync","jQuery","document","ready","body","on","e","preventDefault","indicator","progressBar","progressTotal","css","val","html","groupSyncAjaxHandler","offset","total","nonce","data","groupid","ajax","type","url","ajaxurl","action","beforeSend","success","response","json","JSON","parse","newOffset","newTotal","percent","toFixed","userid","button","getElementById","addEventListener","toolsSyncAjaxHandler","formatEmails","newEmailList","emails","emailsTextara","value","split","i","cycle","dataset","innerHTML","progressIndicator","remainder","Math","ceil","console","log","style","width"],"mappings":"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","file":"js/members-sync.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","import memberSync from './modules/memberSync';\nimport groupSync from './modules/groupSync';\nimport toolsSync from './modules/toolsSync';\n\nmemberSync();\ngroupSync();\ntoolsSync();\n","import groupSyncAjaxHandler from './groupSyncAjaxHandler';\n\nconst groupSync = () => {\n\tjQuery(document).ready(() => {\n\t\tjQuery(document.body).on('click', '#member-group-sync-button', e => {\n\t\t\te.preventDefault();\n\t\t\tconst indicator = jQuery('#member-group-sync-indicator');\n\t\t\tconst progressBar = jQuery('#progress-bar');\n\t\t\tconst progressTotal = jQuery('#progress-total');\n\n\t\t\tindicator.css('display', 'none');\n\t\t\tprogressBar.val(0);\n\t\t\tprogressTotal.html('0%');\n\n\t\t\tgroupSyncAjaxHandler();\n\t\t});\n\t});\n};\n\nexport default groupSync;\n","const groupSyncAjaxHandler = (offset = 0, total = 0) => {\n\tjQuery(document).ready(() => {\n\t\tconst nonce = jQuery('#member-group-sync-button').data('nonce');\n\t\tconst groupid = jQuery('#member-group-sync-button').data('groupid');\n\t\tconst indicator = jQuery('#progress-indicator');\n\n\t\tjQuery.ajax({\n\t\t\ttype: 'post',\n\t\t\turl: ajaxurl,\n\t\t\tdata: {\n\t\t\t\taction: 'sync_ac_group_member',\n\t\t\t\tnonce,\n\t\t\t\tgroupid,\n\t\t\t\toffset,\n\t\t\t\ttotal\n\t\t\t},\n\t\t\tbeforeSend() {\n\t\t\t\tindicator.css('display', 'inline');\n\t\t\t},\n\t\t\tsuccess(response) {\n\t\t\t\tif (response) {\n\t\t\t\t\tconst json = JSON.parse(response);\n\t\t\t\t\tconst newOffset = json.offset;\n\t\t\t\t\tconst newTotal = json.total;\n\t\t\t\t\tconst progressBar = jQuery('#progress-bar');\n\t\t\t\t\tconst progressTotal = jQuery('#progress-total');\n\n\t\t\t\t\tif (newOffset < newTotal) {\n\t\t\t\t\t\tgroupSyncAjaxHandler(newOffset, newTotal);\n\t\t\t\t\t\tconst percent = (100 * newOffset) / newTotal;\n\t\t\t\t\t\tprogressBar.val(percent.toFixed(2));\n\t\t\t\t\t\tprogressTotal.html(`${percent.toFixed(2)}%`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprogressBar.val(100);\n\t\t\t\t\t\tprogressTotal.html('100%');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tprogressTotal.html('An error occurred!');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n};\n\nexport default groupSyncAjaxHandler;\n","const memberSync = () => {\n\tjQuery(document).ready(() => {\n\t\tjQuery(document.body).on('click', '#member-sync-button', e => {\n\t\t\te.preventDefault();\n\n\t\t\tconst nonce = jQuery('#member-sync-button').data('nonce');\n\t\t\tconst userid = jQuery('#member-sync-button').data('userid');\n\t\t\tconst indicator = jQuery('#member-sync-indicator');\n\n\t\t\tindicator.html('');\n\n\t\t\tjQuery.ajax({\n\t\t\t\ttype: 'post',\n\t\t\t\turl: ajaxurl,\n\t\t\t\tdata: {\n\t\t\t\t\taction: 'tools_ac_sync',\n\t\t\t\t\tnonce,\n\t\t\t\t\tuserid\n\t\t\t\t},\n\t\t\t\tbeforeSend() {\n\t\t\t\t\tindicator.html('<img src=\"/wp-content/plugins/fp-core/assets/images/26.gif\" style=\"width: 25px; height: 25px\"/> ');\n\t\t\t\t},\n\t\t\t\tsuccess(response) {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tindicator.html('Member Synced!');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindicator.html('An error occurred!');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n};\n\nexport default memberSync;\n","import toolsSyncAjaxHandler from './toolsSyncAjaxHandler';\n\nconst toolsSync = () => {\n\tconst button = document.getElementById('acsync-users-submit');\n\n\tif (!button) {\n\t\treturn false;\n\t}\n\n\tbutton.addEventListener('click', e => {\n\t\te.preventDefault();\n\t\ttoolsSyncAjaxHandler(button);\n\t});\n};\n\nexport default toolsSync;\n","const formatEmails = (total = 0, newEmailList = {}) => {\n\tconst emails = {};\n\n\tif (total === 0) {\n\t\tconst emailsTextara = document.getElementById('acsync-user-emails-list');\n\t\tnewEmailList = emailsTextara.value.split('\\n');\n\t}\n\n\tfor (const i in newEmailList) {\n\t\tif (newEmailList[i]) {\n\t\t\temails[i] = newEmailList[i];\n\t\t}\n\t}\n\n\treturn emails;\n};\n\nconst toolsSyncAjaxHandler = (button, total = 0, newEmailList = {}, cycle = 0, percent = 0) => {\n\tconst { nonce } = button.dataset;\n\tlet emails = {};\n\n\tif (total > 0) {\n\t\temails = formatEmails(total, newEmailList);\n\t}\n\n\tif (total == '0') {\n\t\tconst emailsTextara = document.getElementById('acsync-user-emails-list');\n\t\tnewEmailList = emailsTextara.value.split('\\n');\n\n\t\temails = formatEmails(0, newEmailList);\n\n\t\tfor (const i in emails) {\n\t\t\tif (emails[i]) {\n\t\t\t\ttotal++;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (total == '0') {\n\t\treturn false;\n\t}\n\n\tjQuery.ajax({\n\t\ttype: 'post',\n\t\turl: ajaxurl,\n\t\tdata: {\n\t\t\taction: 'tools_ac_sync',\n\t\t\tnonce,\n\t\t\temails,\n\t\t\ttotal,\n\t\t\tcycle\n\t\t},\n\t\tbeforeSend() {\n\t\t\tbutton.innerHTML = 'Syncing';\n\t\t},\n\t\tsuccess(response) {\n\t\t\tlet progressIndicator = document.getElementById('progress-bar-percent');\n\t\t\tlet progressBar = document.getElementById('progress-bar-progress');\n\t\t\tconst data = JSON.parse(response);\n\t\t\tcycle = data.cycle;\n\n\t\t\tif (data.remainder > 0) {\n\t\t\t\tpercent = (cycle / data.total) * 100;\n\t\t\t\temails = {};\n\n\t\t\t\tfor (const i in data.emails) {\n\t\t\t\t\tif (data.emails[i]) {\n\t\t\t\t\t\temails[i] = data.emails[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\temails = formatEmails(data.remainder, emails);\n\n\t\t\t\tprogressIndicator.innerHTML = Math.ceil(percent);\n\t\t\t\t// TODO: REMOVE!\n\t\t\t\tconsole.log(progressBar.style.width);\n\t\t\t\tprogressBar.style.width = `${Math.ceil(percent)}%`;\n\t\t\t\t// TODO: REMOVE!\n\t\t\t\tconsole.log(progressBar.style.width);\n\n\t\t\t\ttoolsSyncAjaxHandler(button, data.total, emails, cycle, percent);\n\t\t\t} else if (data.remainder === 0) {\n\t\t\t\tprogressIndicator = document.getElementById('progress-bar-percent');\n\t\t\t\tprogressBar = document.getElementById('progress-bar-progress');\n\t\t\t\tbutton.innerHTML = 'Sync Users';\n\t\t\t\tprogressIndicator.innerHTML = 100;\n\t\t\t\tprogressBar.style.width = '100%';\n\t\t\t\tconsole.log('success');\n\t\t\t} else {\n\t\t\t\tconsole.log(response);\n\t\t\t}\n\t\t}\n\t});\n};\n\nexport default toolsSyncAjaxHandler;\n"],"sourceRoot":""}