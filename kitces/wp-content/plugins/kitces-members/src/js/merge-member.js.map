{"version":3,"file":"js/merge-member.js","mappings":";;;;;;;;;;;;AAEA,MAAM,WAAW,GAAG,CAAC,MAAmB,EAAE,KAAa,EAAE,MAAc,EAAE,WAAmB,EAAE,EAAE;IAC/F,MAAM,CAAC,IAAI,CAAC;QACX,IAAI,EAAE,MAAM;QACZ,GAAG,EAAE,OAAO;QACZ,IAAI,EAAE;YACL,MAAM,EAAE,cAAc;YACtB,KAAK;YACL,OAAO,EAAE,MAAM;YACf,YAAY,EAAE,WAAW;SACzB;QACD,UAAU;YACT,MAAM,CAAC,SAAS,GAAG,gBAAgB,CAAC;QACrC,CAAC;QACD,OAAO,CAAC,QAAQ;YACf,MAAM,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,sBAAsB,CAAC,CAAC;YAChE,MAAM,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,oBAAoB,CAAqB,CAAC;YAErF,QAAQ,QAAQ,EAAE;gBACjB,KAAK,iBAAiB;oBACrB,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,SAAS,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;oBAC5C,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;oBACvC,OAAQ,CAAC,SAAS,GAAG,iDAAiD,CAAC;oBACvE,OAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;oBACjC,MAAM,CAAC,SAAS,GAAG,QAAQ,CAAC;oBAC5B,MAAM;gBACP,KAAK,YAAY;oBAChB,OAAQ,CAAC,SAAS,GAAG,0BAA0B,WAAW,OAAO,CAAC;oBAClE,OAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;oBACjC,MAAM,CAAC,SAAS,GAAG,QAAQ,CAAC;oBAC5B,MAAM;gBACP,KAAK,kBAAkB;oBACtB,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,SAAS,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;oBAC5C,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;oBACvC,OAAQ,CAAC,SAAS,GAAG,mCAAmC,WAAW,OAAO,CAAC;oBAC3E,OAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;oBACjC,MAAM,CAAC,SAAS,GAAG,QAAQ,CAAC;oBAC5B,MAAM;gBACP,KAAK,oBAAoB;oBACxB,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,SAAS,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;oBAC5C,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;oBACvC,OAAQ,CAAC,SAAS,GAAG,iBAAiB,WAAW,cAAc,CAAC;oBAChE,OAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;oBACjC,MAAM,CAAC,SAAS,GAAG,QAAQ,CAAC;oBAC5B,MAAM;gBACP,KAAK,SAAS;oBACb,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;oBAC1C,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBACzC,OAAQ,CAAC,SAAS,GAAG,aAAa,WAAW,cAAc,CAAC;oBAC5D,OAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;oBACjC,MAAM,CAAC,SAAS,GAAG,eAAe,CAAC;oBACnC,UAAW,CAAC,KAAK,GAAG,EAAE,CAAC;oBACvB,MAAM;aACP;YAED,UAAU,CAAC,GAAG,EAAE;gBACf,MAAM,CAAC,SAAS,GAAG,cAAc,CAAC;gBAClC,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,SAAS,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;gBAC5C,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;gBAC1C,OAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YACjC,CAAC,EAAE,IAAI,CAAC,CAAC;QACV,CAAC;KACD,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,qBAAe,WAAW,CAAC;;;;;;;;;;;;;;;;AClE3B,oHAAwC;AAExC,MAAM,YAAY,GAAG,GAAG,EAAE;IACzB,MAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC;IAE9D,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE;QACrC,CAAC,CAAC,cAAc,EAAE,CAAC;QAEnB,MAAM,KAAK,GAAW,MAAM,CAAC,OAAO,CAAC,KAAM,CAAC;QAC5C,MAAM,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,MAAO,CAAC;QACtC,MAAM,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC,UAAW,CAAC;QAC/C,MAAM,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,SAAU,CAAC;QAE5C,MAAM,YAAY,GAAG,OAAO,CAC3B,QAAQ,WAAW,wBAAwB,SAAS,UAAU,SAAS,gFAAgF,CACvJ,CAAC;QAEF,IAAI,YAAY,EAAE;YACjB,MAAM,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,sBAAsB,CAAC,CAAC;YAChE,OAAQ,CAAC,SAAS,GAAG,EAAE,CAAC;YACxB,OAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAEhC,yBAAW,EAAC,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;SAChD;IACF,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,qBAAe,YAAY,CAAC;;;;;;;;;;;;;;;;AC3B5B,sIAAoD;AACpD,uHAA0C;AAE1C,+BAAiB,GAAE,CAAC;AACpB,0BAAY,GAAE,CAAC;;;;;;;;;;;;;ACJf,MAAM,iBAAiB,GAAG,GAAG,EAAE;IAC9B,MAAM,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;IAEjE,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAQ,EAAE,EAAE;QAClD,MAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,qBAAqB,CAAoB,CAAC;QACjF,MAAM,MAAM,GAAG,CAAC,CAAC,MAA0B,CAAC;QAE5C,MAAM,CAAC,OAAO,CAAC,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC;IAC1C,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,qBAAe,iBAAiB,CAAC;;;;;;;UCXjC;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;UEtBA;UACA;UACA;UACA","sources":["webpack:///./ts/merge-member/ajaxHandler.ts","webpack:///./ts/merge-member/clickHandler.ts","webpack:///./ts/merge-member/index.ts","webpack:///./ts/merge-member/populateDataField.ts","webpack:///webpack/bootstrap","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["declare var ajaxurl: any;\n\nconst ajaxHandler = (button: HTMLElement, nonce: string, userId: String, memberEmail: string) => {\n\tjQuery.ajax({\n\t\ttype: 'post',\n\t\turl: ajaxurl,\n\t\tdata: {\n\t\t\taction: 'merge_member',\n\t\t\tnonce,\n\t\t\tuser_id: userId,\n\t\t\tmember_email: memberEmail\n\t\t},\n\t\tbeforeSend() {\n\t\t\tbutton.innerHTML = 'Merging Member';\n\t\t},\n\t\tsuccess(response) {\n\t\t\tconst message = document.getElementById('member-merge-message');\n\t\t\tconst inputField = document.getElementById('merge-member-email') as HTMLInputElement;\n\n\t\t\tswitch (response) {\n\t\t\t\tcase 'no-member-email':\n\t\t\t\t\tmessage?.classList.remove('notice-success');\n\t\t\t\t\tmessage?.classList.add('notice-error');\n\t\t\t\t\tmessage!.innerHTML = `<p>You must supply a member email to merge!</p>`;\n\t\t\t\t\tmessage!.style.display = 'block';\n\t\t\t\t\tbutton.innerHTML = 'Error!';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'not-a-user':\n\t\t\t\t\tmessage!.innerHTML = `<p>Unable to find user ${memberEmail}!</p>`;\n\t\t\t\t\tmessage!.style.display = 'block';\n\t\t\t\t\tbutton.innerHTML = 'Error!';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'no-user-id-error':\n\t\t\t\t\tmessage?.classList.remove('notice-success');\n\t\t\t\t\tmessage?.classList.add('notice-error');\n\t\t\t\t\tmessage!.innerHTML = `<p>Unable to find user's ID for ${memberEmail}!</p>`;\n\t\t\t\t\tmessage!.style.display = 'block';\n\t\t\t\t\tbutton.innerHTML = 'Error!';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'merge-failed-error':\n\t\t\t\t\tmessage?.classList.remove('notice-success');\n\t\t\t\t\tmessage?.classList.add('notice-error');\n\t\t\t\t\tmessage!.innerHTML = `<p>Merge with ${memberEmail} failed!</p>`;\n\t\t\t\t\tmessage!.style.display = 'block';\n\t\t\t\t\tbutton.innerHTML = 'Error!';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'success':\n\t\t\t\t\tmessage?.classList.remove('notice-error');\n\t\t\t\t\tmessage?.classList.add('notice-success');\n\t\t\t\t\tmessage!.innerHTML = `<p>Member ${memberEmail} Merged!</p>`;\n\t\t\t\t\tmessage!.style.display = 'block';\n\t\t\t\t\tbutton.innerHTML = 'Member Merged';\n\t\t\t\t\tinputField!.value = '';\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tbutton.innerHTML = 'Merge Member';\n\t\t\t\tmessage?.classList.remove('notice-success');\n\t\t\t\tmessage?.classList.remove('notice-error');\n\t\t\t\tmessage!.style.display = 'none';\n\t\t\t}, 2000);\n\t\t}\n\t});\n};\n\nexport default ajaxHandler;\n","import ajaxHandler from './ajaxHandler';\n\nconst clickHandler = () => {\n\tconst button = document.getElementById('merge-member-button');\n\n\tbutton?.addEventListener('click', e => {\n\t\te.preventDefault();\n\n\t\tconst nonce: string = button.dataset.nonce!;\n\t\tconst userId = button.dataset.userid!;\n\t\tconst memberEmail = button.dataset.mergeEmail!;\n\t\tconst userEmail = button.dataset.useremail!;\n\n\t\tconst confirmMerge = confirm(\n\t\t\t`User ${memberEmail} will be merged into ${userEmail}. Only ${userEmail} will remain. This action cannot be undone. Are you sure you want to continue?`\n\t\t);\n\n\t\tif (confirmMerge) {\n\t\t\tconst message = document.getElementById('member-merge-message');\n\t\t\tmessage!.innerHTML = '';\n\t\t\tmessage!.style.display = 'none';\n\n\t\t\tajaxHandler(button, nonce, userId, memberEmail);\n\t\t}\n\t});\n};\n\nexport default clickHandler;\n","import populateDataField from './populateDataField';\nimport clickHandler from './clickHandler';\n\npopulateDataField();\nclickHandler();\n","const populateDataField = () => {\n\tconst inputField = document.getElementById('merge-member-email');\n\n\tinputField?.addEventListener('input', (e: Event) => {\n\t\tconst button = document.getElementById('merge-member-button') as HTMLLinkElement;\n\t\tconst target = e.target as HTMLInputElement;\n\n\t\tbutton.dataset.mergeEmail = target.value;\n\t});\n};\n\nexport default populateDataField;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./ts/merge-member/index.ts\");\n",""],"names":[],"sourceRoot":""}